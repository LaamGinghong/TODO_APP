/** @preserve Powered by TODO APP (https://github.com/LaamGinghong/todo-app */!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(o(1));o(5),console.log(i.default)},function(t,e,o){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(o(2)),d=n(o(3)),r=n(o(4)),s=new i.default(new d.default,new r.default);e.default=s},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var o=this;this.onTodoListChanged=function(t){o.view.displayTodoList(t)},this.handleAddTodo=function(t){o.model.add(t)},this.handleEditTodo=function(t,e){o.model.edit(t,e)},this.handleDeleteTodo=function(t){o.model.delete(t)},this.handleToggle=function(t){o.model.toggle(t)},this.model=t,this.view=e,this.onTodoListChanged(this.model.todoList),this.view.bindAddTodo(this.handleAddTodo),this.view.bindDeleteTodo(this.handleDeleteTodo),this.view.bindToggleTodo(this.handleToggle),this.view.bindEditTodo(this.handleEditTodo),this.model.bindTodoListChanged(this.onTodoListChanged)};e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){var t,e=this;this.add=function(t){var o,n,i={id:(null!==(n=null===(o=e.todoList[e.todoList.length-1])||void 0===o?void 0:o.id)&&void 0!==n?n:0)+1,text:t,complete:!1};e.todoList.push(i),e.common()},this.edit=function(t,o){e.todoList.find((function(e){return e.id===t})).text=o,e.common(!1)},this.delete=function(t){var o=e.todoList.findIndex((function(e){return e.id===t}));e.todoList.splice(o,1),e.common()},this.toggle=function(t){var o=e.todoList.find((function(e){return e.id===t}));o.complete=!o.complete,e.common()},this.common=function(t){void 0===t&&(t=!0),t&&e.onTodoListChanged(e.todoList),localStorage.setItem("todoList",JSON.stringify(e.todoList))},this.bindTodoListChanged=function(t){e.onTodoListChanged=t},this.todoList=null!==(t=JSON.parse(localStorage.getItem("todoList")))&&void 0!==t?t:[]};e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var e=this;this.tempText="",this.initLocalListener=function(){e.todoList.addEventListener("input",(function(t){var o=t.target;o.classList.contains("todo-item-inner")&&(e.tempText=o.innerText)}))},this.resetInput=function(){e.input.value=""},this.displayTodoList=function(o){for(var n;e.todoList.firstChild;)e.todoList.removeChild(e.todoList.firstChild);if(o.length){var i=o.map((function(e){var o=t.createElement("li","todo-item");o.id=""+e.id;var n=t.createElement("input","checkbox");n.type="checkbox",n.checked=e.complete;var i=t.createElement("span","todo-item-inner");i.textContent=e.text,i.contentEditable=""+!0;var d=t.createElement("button","delete button");return d.textContent="删除",o.append(n,i,d),o}));(n=e.todoList).append.apply(n,i)}else{var d=t.createElement("p");d.textContent="当前没有待办事项，是否添加？",e.todoList.append(d)}},this.bindAddTodo=function(t){e.form.addEventListener("submit",(function(o){o.preventDefault(),e.todoText&&(t(e.todoText),e.resetInput())}))},this.bindDeleteTodo=function(t){e.todoList.addEventListener("click",(function(e){var o=e.target;if(o.classList.contains("delete")){var n=+o.getAttribute("id");t(n)}}))},this.bindEditTodo=function(t){e.todoList.addEventListener("focusout",(function(o){if(e.tempText){var n=+o.target.parentElement.id;t(n,e.tempText),e.tempText=""}}))},this.bindToggleTodo=function(t){e.todoList.addEventListener("change",(function(e){var o=e.target;if("checkbox"===o.type){var n=+o.parentElement.getAttribute("id");t(n)}}))},this.app=t.getElement("#root"),this.title=t.createElement("h1","title"),this.title.textContent="Todo App",this.todoList=t.createElement("ul"),this.form=t.createElement("form"),this.input=t.createElement("input","input"),this.button=t.createElement("button","button"),this.input.setAttribute("placeholder","添加待办事项"),this.input.setAttribute("type","text"),this.input.setAttribute("name","todo"),this.button.textContent="添加",this.form.append(this.input,this.button),this.app.append(this.title,this.form,this.todoList),this.initLocalListener()}return t.createElement=function(t,e){void 0===e&&(e="");var o=document.createElement(t);return o.setAttribute("class",e),o},t.getElement=function(t){return document.querySelector(t)},Object.defineProperty(t.prototype,"todoText",{get:function(){return this.input.value},enumerable:!1,configurable:!0}),t}();e.default=n},function(t,e,o){}]);